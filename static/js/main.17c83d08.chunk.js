(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports={lives:"styles_lives__Y0PP1",hearts:"styles_hearts__2PQE8",heart:"styles_heart__1iUgi"}},16:function(e,t,a){e.exports={cell:"styles_cell__mjqWW",blankCell:"styles_blankCell__w-mFl",snakeCell:"styles_snakeCell__2z9Qb",fruitCell:"styles_fruitCell__maH-0",fruitCellAppear:"styles_fruitCellAppear__1jpaB",snakeHead:"styles_snakeHead__ENvNC"}},19:function(e,t,a){e.exports={screen:"styles_screen__1Oa8U",screenAppear:"styles_screenAppear__usgwR",label:"styles_label__3Yuot",blink:"styles_blink__1E6ws"}},22:function(e,t,a){e.exports={game:"styles_game__2-UFX",flash:"styles_flash__4dwxM"}},23:function(e,t,a){e.exports={main:"styles_main__2ekSm",circle:"styles_circle__2CZI9",countdown:"styles_countdown__3NHvF"}},24:function(e,t,a){e.exports={main:"styles_main__3Tyde",octicon:"styles_octicon__2m4aj"}},31:function(e,t,a){e.exports={board:"styles_board__3oN1D"}},32:function(e,t,a){e.exports={field:"styles_field__1GD8J"}},33:function(e,t,a){e.exports=a(54)},51:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(28),l=a.n(r),c=a(9),i=a(29),o=a(10),u="app/game/SET_GAME_STATE",m="app/game/PAUSE_GAME",v="app/game/SET_LEVEL",p="app/game/SET_DIRECTION",f=21,h={BLANK:0,SNAKE:1,FRUIT:2},b={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},g=5,d=new o.b({pause:!1,gameOver:!1,score:null,level:null,lives:null,cells:null,snakeCells:null,nextLevelCountdown:null,direction:b.TOP});var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:return t.state;case m:var a=t.value;return e.set("pause",a);case v:var n=t.level;return e.set("level",n);case p:var s=t.direction;return e.set("direction",s);default:return e}},y=Object(c.c)({game:O}),_=function(){var e=[i.a],t=c.d.apply(void 0,[c.a.apply(void 0,e)].concat([]));return Object(c.e)(y,{},t)},E=a(1),k=a(2),j=a(4),C=a(3),T=a(5),N=a(6),w=a(18),I=a(8),A=a.n(I),x=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.className;return s.a.createElement("svg",{className:e,version:"1.1",viewBox:"0 0 51.997 51.997",xmlSpace:"preserve"},s.a.createElement("g",null,s.a.createElement("path",{d:"M51.911,16.242C51.152,7.888,45.239,1.827,37.839,1.827c-4.93,0-9.444,2.653-11.984,6.905 c-2.517-4.307-6.846-6.906-11.697-6.906c-7.399,0-13.313,6.061-14.071,14.415c-0.06,0.369-0.306,2.311,0.442,5.478 c1.078,4.568,3.568,8.723,7.199,12.013l18.115,16.439l18.426-16.438c3.631-3.291,6.121-7.445,7.199-12.014 C52.216,18.553,51.97,16.611,51.911,16.242z M49.521,21.261c-0.984,4.172-3.265,7.973-6.59,10.985L25.855,47.481L9.072,32.25 c-3.331-3.018-5.611-6.818-6.596-10.99c-0.708-2.997-0.417-4.69-0.416-4.701l0.015-0.101C2.725,9.139,7.806,3.826,14.158,3.826 c4.687,0,8.813,2.88,10.771,7.515l0.921,2.183l0.921-2.183c1.927-4.564,6.271-7.514,11.069-7.514 c6.351,0,11.433,5.313,12.096,12.727C49.938,16.57,50.229,18.264,49.521,21.261z"}),s.a.createElement("path",{d:"M15.999,7.904c-5.514,0-10,4.486-10,10c0,0.553,0.447,1,1,1s1-0.447,1-1c0-4.411,3.589-8,8-8c0.553,0,1-0.447,1-1 S16.551,7.904,15.999,7.904z"})))}}]),t}(s.a.Component),S=a(15),G=a.n(S),L=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.className;return s.a.createElement("svg",{className:e,version:"1.1",viewBox:"0 0 50 50"},s.a.createElement("path",{style:{fill:"#db3737"},d:"M24.85,10.126c2.018-4.783,6.628-8.125,11.99-8.125c7.223,0,12.425,6.179,13.079,13.543 c0,0,0.353,1.828-0.424,5.119c-1.058,4.482-3.545,8.464-6.898,11.503L24.85,48L7.402,32.165c-3.353-3.038-5.84-7.021-6.898-11.503 c-0.777-3.291-0.424-5.119-0.424-5.119C0.734,8.179,5.936,2,13.159,2C18.522,2,22.832,5.343,24.85,10.126z"}),s.a.createElement("path",{style:{fill:"#FF7373"},d:"M6,18.078c-0.553,0-1-0.447-1-1c0-5.514,4.486-10,10-10c0.553,0,1,0.447,1,1s-0.447,1-1,1 c-4.411,0-8,3.589-8,8C7,17.631,6.553,18.078,6,18.078z"}))}}]),t}(s.a.Component),K=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.max,a=e.value,n=[],r=0;r<t;++r)r<a?n.push(s.a.createElement(L,{key:"".concat(r,"_full"),className:G.a.heart})):n.push(s.a.createElement(x,{key:"".concat(r,"_empty"),className:G.a.heart}));return s.a.createElement("div",{className:G.a.lives},s.a.createElement("div",{className:G.a.label},"Lives:"),s.a.createElement("div",{className:G.a.hearts},n))}}]),t}(s.a.Component),R=function(e){var t=e.value;return s.a.createElement(w.a,{value:t,className:A.a.valueContainer,flashClassName:A.a.valueContainerActive,outerElementType:"span"},s.a.createElement("span",null,t))},M=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props,t=e.score,a=e.level,n=e.lives;return null===a?s.a.createElement("div",{className:A.a.bar},s.a.createElement("div",{className:A.a.logo},"*** The SNAKE ***")):s.a.createElement("div",{className:A.a.bar},s.a.createElement("div",{className:A.a.section,style:{marginRight:10}},s.a.createElement(K,{value:n,max:3})),s.a.createElement("div",{className:A.a.section},"Level:",s.a.createElement(R,{value:a})),s.a.createElement("div",{className:"filler"}),s.a.createElement("div",{className:A.a.section},"Score:",s.a.createElement(R,{value:t})))}}]),t}(s.a.Component);var B=Object(N.b)(function(e,t){return{score:e.game.get("score"),level:e.game.get("level"),lives:e.game.get("lives")}},{})(M),D=a(22),F=a.n(D),P=a(31),H=a.n(P),U=a(17),W=a(13),z=a.n(W),J=a(19),Q=a.n(J),q=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props,t=e.active,a=e.label,n=e.blink;return t?s.a.createElement("div",{className:Q.a.screen},s.a.createElement("div",{className:z()(Q.a.label,Object(U.a)({},Q.a.blink,n))},a)):null}}]),t}(s.a.Component),Y=a(16),V=a.n(Y),X=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.x,n=t.y,r=t.cellType,l=t.isSnakeHead;switch(r){case h.BLANK:e=V.a.blankCell;break;case h.SNAKE:e=V.a.snakeCell;break;case h.FRUIT:e=V.a.fruitCell}return s.a.createElement("div",{className:z()(V.a.cell,e,Object(U.a)({},V.a.snakeHead,l)),style:{left:1+21*a,top:1+21*n,width:20,height:20}})}}]),t}(s.a.Component);var Z=Object(N.b)(function(e,t){var a=t.y,n=t.x;return{cellType:e.game.getIn(["cells",a,n]),isSnakeHead:e.game.getIn(["snakeCells",0,0])===a&&e.game.getIn(["snakeCells",0,1])===n}},{})(X),$=a(32),ee=a.n($),te=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<f;++t)for(var a=0;a<f;++a)e.push(s.a.createElement(Z,{x:a,y:t,key:"".concat(t,"_").concat(a)}));return s.a.createElement("div",{className:ee.a.field},e)}}]),t}(s.a.Component);Object(N.b)(function(e,t){return{cells:e.game.get("cells")}},{})(te);function ae(e){return e[Math.floor(Math.random()*e.length)]}function ne(e){var t=[],a=[];return e.forEach(function(e,n){e.forEach(function(e,s){e===h.BLANK&&(t.push([n,s]),n>0&&n<f-1&&s>0&&s<f-1&&a.push([n,s]))})}),a.length?ae(a):ae(t)}function se(){for(var e=Math.floor(f/2),t=new o.a,a=o.c(Array(f).fill(Array(f).fill(h.BLANK))),n=0;n<3;++n)a=a.setIn([e+n,e],h.SNAKE),t=t.push(new o.a([e+n,e]));var s=ne(a);return{cells:a=a.setIn(s,h.FRUIT),snakeCells:t}}var re=a(23),le=a.n(re),ce=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return s.a.createElement("svg",{className:le.a.main},s.a.createElement("circle",{className:le.a.circle,r:"18",cx:"20",cy:"20"}))}}]),t}(s.a.Component),ie=window.key,oe=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(s)))).gameTickTimeoutId=null,a.state={showWaitCircle:!1},a.doGameTick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skipTick,n=void 0!==t&&t,s=e.startReadiness,r=void 0!==s&&s;r?a.setState({showWaitCircle:!0}):a.state.showWaitCircle&&a.setState({showWaitCircle:!1}),a.gameTickTimeoutId&&clearTimeout(a.gameTickTimeoutId);var l=a.props.level,c=120-l*(5-l/10);(r&&(c=1e3),a.gameTickTimeoutId=setTimeout(a.doGameTick,c),n||r)||(0,a.props.gameTick)()},a.stopGame=function(){a.gameTickTimeoutId&&clearTimeout(a.gameTickTimeoutId),a.state.showWaitCircle&&a.setState({showWaitCircle:!1})},a.resumeGame=function(){a.doGameTick({skipTick:!0})},a.setDirection=function(e){var t=a.props,n=t.level,s=t.pause,r=t.setDirection;null===n||s||r(e)},a.bindKeys=function(){ie("up",function(){a.setDirection(b.TOP)}),ie("right",function(){a.setDirection(b.RIGHT)}),ie("down",function(){a.setDirection(b.BOTTOM)}),ie("left",function(){a.setDirection(b.LEFT)}),ie("space",function(){var e=a.props,t=e.level,n=e.restartGame,s=e.pauseGame,r=e.pause,l=e.gameOver;null===t||l?n():s(!r)})},a.unBindKeys=function(){ie.unbind("top"),ie.unbind("right"),ie.unbind("bottom"),ie.unbind("left"),ie.unbind("space")},a}return Object(T.a)(t,e),Object(k.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){(!e.level&&this.props.level||e.gameOver&&!this.props.gameOver)&&this.doGameTick({startReadiness:!0}),this.props.lives<e.lives&&!this.props.gameOver&&this.doGameTick({startReadiness:!0}),!e.gameOver&&this.props.gameOver&&this.stopGame(),!e.pause&&this.props.pause&&this.stopGame(),e.pause&&!this.props.pause&&this.resumeGame()}},{key:"componentDidMount",value:function(){this.bindKeys()}},{key:"componentWillUnmount",value:function(){this.stopGame(),this.unBindKeys()}},{key:"render",value:function(){var e=this.props,t=e.pause,a=e.gameOver,n=e.level,r=this.state.showWaitCircle,l=21*f+1;return s.a.createElement("div",{className:H.a.board,style:{width:l,height:l}},null!==n&&s.a.createElement(te,null),s.a.createElement(q,{active:null===n,label:s.a.createElement("div",null,"Press",s.a.createElement("br",null),"< SPACE >",s.a.createElement("br",null),"to start")}),s.a.createElement(q,{active:t,label:"Pause",blink:!0}),s.a.createElement(q,{active:a,label:"Game Over"}),r&&s.a.createElement(ce,{radius:20}))}}]),t}(s.a.Component);var ue=Object(N.b)(function(e,t){return{pause:e.game.get("pause"),level:e.game.get("level"),lives:e.game.get("lives"),startReadiness:e.game.get("startReadiness"),gameOver:e.game.get("gameOver")}},{gameTick:function(){return function(e,t){var a=t().game,n=a.get("gameOver"),s=a.get("pause");if(!n&&!s){var r,l=a.get("direction"),c=a.get("score"),i=a.get("level"),m=a.get("nextLevelCountdown"),v=a.get("snakeCells"),p=a.get("cells"),d=v.get(0);switch(l){case b.TOP:r=[d.get(0)-1,d.get(1)];break;case b.RIGHT:r=[d.get(0),d.get(1)+1];break;case b.BOTTOM:r=[d.get(0)+1,d.get(1)];break;case b.LEFT:r=[d.get(0),d.get(1)-1]}if(function(e,t){return e[0]<0||e[0]>f-1||e[1]<0||e[1]>f-1||t.getIn(e)===h.SNAKE}(r,p)){var O=se(),y=O.cells,_=O.snakeCells,E=a.get("lives");return a=E>1?a.set("snakeCells",_).set("cells",y).set("direction",b.TOP).set("lives",E-1):a.set("gameOver",!0).set("lives",0),e({type:u,state:a})}var k=p.getIn(r)===h.FRUIT;if(v=v.unshift(new o.a(r)),p=p.setIn(r,h.SNAKE),k){var j=ne(p);p=p.setIn(j,h.FRUIT),a=a.set("score",c+10),a=m>1?a.set("nextLevelCountdown",m-1):(a=a.set("nextLevelCountdown",g)).set("level",i+1)}else{var C=v.get(v.size-1).toJS();v=v.pop(),p=p.setIn(C,h.BLANK)}a=a.set("snakeCells",v).set("cells",p),e({type:u,state:a})}}},setDirection:function(e){return function(t,a){var n=a().game.getIn(["snakeCells",0]),s=a().game.get("cells"),r=!0;switch(e){case b.TOP:r=s.getIn([n.get(0)-1,n.get(1)])!==h.SNAKE;break;case b.RIGHT:r=s.getIn([n.get(0),n.get(1)+1])!==h.SNAKE;break;case b.BOTTOM:r=s.getIn([n.get(0)+1,n.get(1)])!==h.SNAKE;break;case b.LEFT:r=s.getIn([n.get(0),n.get(1)-1])!==h.SNAKE}r&&t({type:p,direction:e})}},restartGame:function(){var e=se(),t=e.cells,a=e.snakeCells,n=(new o.b).set("pause",!1).set("gameOver",!1).set("level",1).set("lives",3).set("score",0).set("cells",t).set("snakeCells",a).set("nextLevelCountdown",g).set("direction",b.TOP);return{type:u,state:n}},pauseGame:function(e){return{type:m,value:e}}})(oe),me=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.score;return s.a.createElement(w.a,{value:e,flashDuration:100,className:F.a.game,flashClassName:F.a.flash,outerElementType:"span",compare:function(e,t){return t.value>e.value}},s.a.createElement(B,null),s.a.createElement(ue,null))}}]),t}(s.a.Component);var ve=Object(N.b)(function(e,t){return{score:e.game.get("score")}},{})(me),pe=a(24),fe=a.n(pe),he=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:fe.a.main},s.a.createElement("a",{href:"https://github.com/avin/react-game-snake",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("svg",{className:fe.a.octicon,viewBox:"0 0 16 16",version:"1.1","aria-hidden":"true"},s.a.createElement("path",{fillRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"}))))}}]),t}(s.a.Component),be=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.store;return s.a.createElement(N.a,{store:e},s.a.createElement("div",{className:"filler"},s.a.createElement(ve,null)),s.a.createElement(he,null))}}]),t}(s.a.Component);a(51);var ge=_(),de=document.querySelector("#root");l.a.render(s.a.createElement(be,{store:ge}),de),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports={bar:"styles_bar__DjLyx",section:"styles_section__etfQG",logo:"styles_logo__26UO7",valueContainer:"styles_valueContainer__3IdHo",valueContainerActive:"styles_valueContainerActive__2CdLT"}}},[[33,2,1]]]);
//# sourceMappingURL=main.17c83d08.chunk.js.map